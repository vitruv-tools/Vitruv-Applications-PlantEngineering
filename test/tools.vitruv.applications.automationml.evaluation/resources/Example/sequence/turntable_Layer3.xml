<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.plcopen.org/xml/tc6.xsd"><fileHeader companyName="KW-Software" companyURL="www.kw-software.com" productName="MULTIPROG" productVersion="5.35" productRelease="Build 434" creationDateTime="2012-11-08T15:33:09" contentDescription=""/><contentHeader name="Drehtisch" version="1352385189" modificationDateTime="2012-11-08T15:33:09"><coordinateInfo><pageSize x="999" y="999"/><fbd><scaling x="2" y="2"/></fbd><ld><scaling x="2" y="2"/></ld><sfc><scaling x="2" y="2"/></sfc></coordinateInfo></contentHeader><types><dataTypes/><pous><pou name="Transport_zu_x_dreh" pouType="functionBlock"><interface><inputVars retain="false"><variable name="Transportrichtung1"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Inputvariable: Gibt an, wohin das Werkstück transportiert werden soll.<br/></p></html></documentation></variable><variable name="Transportrichtung2"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Inputvariable: Gibt an, wohin das Werkstück transportiert werden soll.<br/></p></html></documentation></variable><variable name="Transportrichtung3"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Inputvariable: Gibt an, wohin das Werkstück transportiert werden soll.<br/></p></html></documentation></variable><variable name="Position1_WK"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Inputvariable: Gibt an, an welcher Position das Werkstück anliegt.<br/></p></html></documentation></variable><variable name="Position2_WK"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Inputvariable: Gibt an, an welcher Position das Werkstück anliegt.<br/></p></html></documentation></variable><variable name="Position3_WK"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Inputvariable: Gibt an, an welcher Position das Werkstück anliegt.<br/></p></html></documentation></variable></inputVars><localVars retain="false"><variable name="FB_Uebernahme"><type><derived name="Uebernahme_gabe"/></type><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Outputvariable vom FB "Uebernahme_gabe". Quittierungssignal für Übernahme<br/></p></html></documentation></variable><variable name="FB_Uebergabe"><type><derived name="Uebernahme_gabe"/></type><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Outputvariable vom FB "Uebernahme_gabe". Quittierungssignal für Übergabe<br/></p></html></documentation></variable><variable name="Quittierungssignal_links1"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Hilfsvariable: Hier wird der Output des Uebergabe/Transportieren-FBs eingetragen. Es wurde nach links übergeben. ODER es wurde nach links transportiert.<br/></p></html></documentation></variable><variable name="Quittierungssignal_rechts1"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Hilfsvariabel: Hier wird der Output des Uebergabe/Transportieren-FBs eingetragen. Es wurde nach rechts übergeben. ODER es wurde nach rechts transportiert.<br/></p></html></documentation></variable></localVars><outputVars retain="false"><variable name="GDx_links"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Quittierungssignal: Es wurde nach links transportiert. (GD = gedreht)<br/></p></html></documentation></variable><variable name="GDx_rechts"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Quittierungssignal: Es wurde nach rechts transportiert. (GD = gedreht)<br/></p></html></documentation></variable></outputVars><localVars retain="false"><variable name="Quittierungssignal_links2"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_rechts2"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_links3"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_rechts3"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_links4"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_rechts4"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_links5"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="Quittierungssignal_rechts5"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue></variable><variable name="FB_Drehen_pos"><type><derived name="Drehen"/></type><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Outputvaribale vom FB "Drehen"<br/></p></html></documentation></variable><variable name="FB_Drehen_dreh"><type><derived name="Drehen"/></type><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Outputvariable vom FB "Drehen"<br/></p></html></documentation></variable><variable name="Drehtisch_pos0"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Hilfsvariable: Der Drehtisch befindet sich in der Aufgangsposition: Endlage 0.<br/></p></html></documentation></variable><variable name="Drehtisch_pos1"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Hilfsvariable: Der Drehtisch befidnet sich in Endlage 1.<br/></p></html></documentation></variable><variable name="Drehtisch_dreh0"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Hilfsvariable: Der Drehtisch befindet sich in der Aufgangsposition: Endlage 0.<br/></p></html></documentation></variable><variable name="Drehtisch_dreh1"><type><BOOL/></type><initialValue><simpleValue value="FALSE"/></initialValue><documentation><html xmlns="http://www.w3.org/1999/xhtml"><p xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve">Hilfsvariable: Der Drehtisch befidnet sich in Endlage 1.<br/></p></html></documentation></variable></localVars></interface><actions><action name="Drehablauf_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Drehablauf_aus">(*In diesem Zustand befindet sich der Motor im unbestromten Zustand - Also kein Transportieren/Übergeben/Übernehmen/Drehen.<br/>Layer 3 greift auch Layer 2 "Transportieren", "Übernahme_gabe" und "Drehen" zu und setzt die Eingangsvariablen dieser FBs entsprechend.*)<br/>FB_Uebernahme(Uebergeben := FALSE, Uebernehmen := FALSE);<br/>FB_Uebergabe(Uebergeben := FALSE, Uebernehmen := FALSE);<br/><br/>FB_Drehen_pos(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/>FB_Drehen_dreh(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action><action name="Positionieren_l"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Positionieren_l">(*In diesem Zustand befindet sich der Motor in der Linksdrehung - Werkstück wird transportiert.<br/>Layer 3 greift auch Layer 2 "Transportieren" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/>FB_Drehen_pos(Drehen_links := TRUE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action><action name="Positionieren_r"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Positionieren_r">(*In diesem Zustand befindet sich der Motor in der Linksdrehung - Werkstück wird transportiert.<br/>Layer 3 greift auch Layer 2 "Transportieren" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/>FB_Drehen_pos(Drehen_links := FALSE, Drehen_rechts := TRUE);<br/></div></html></ST></body></action><action name="Positionieren_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Positionieren_aus">(*In diesem Zustand befindet sich der Motor im unbestromten Zustand - Also kein Transportieren/Übergeben/Übernehmen/Drehen.<br/>Layer 3 greift auch Layer 2 "Transportieren", "Übernahme_gabe" und "Drehen" zu und setzt die Eingangsvariablen dieser FBs entsprechend.*)<br/>FB_Uebernahme(Uebergeben := FALSE, Uebernehmen := FALSE);<br/>FB_Uebergabe(Uebergeben := FALSE, Uebernehmen := FALSE);<br/><br/>FB_Drehen_pos(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/>FB_Drehen_dreh(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action><action name="Uebernehmen_l"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Uebernehmen_l">(*In diesem Zustand befindet sich der Motor in der Linksdrehung - Werkstück wird übernommen.<br/>Layer 3 greift auch Layer 2 "Übernahme_gabe" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/><br/>(*von rechts übernehmen*)<br/>FB_Uebernahme(Richtung := TRUE, Uebernehmen := TRUE, Uebergeben := FALSE);<br/></div></html></ST></body></action><action name="Uebernehmen_r"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Uebernehmen_r">(*In diesem Zustand befindet sich der Motor in der Rechtsdrehung - Werkstück wird übernommen.<br/>Layer 3 greift auch Layer 2 "Übernahme_gabe" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/><br/>(*von links übernehmen*)<br/>FB_Uebernahme(Richtung := FALSE, Uebernehmen := TRUE, Uebergeben := FALSE);<br/></div></html></ST></body></action><action name="Uebernehmen_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Uebernehmen_aus">(*In diesem Zustand befindet sich der Motor im unbestromten Zustand - Also kein Transportieren/Übergeben/Übernehmen/Drehen.<br/>Layer 3 greift auch Layer 2 "Transportieren", "Übernahme_gabe" und "Drehen" zu und setzt die Eingangsvariablen dieser FBs entsprechend.*)<br/>FB_Uebernahme(Uebergeben := FALSE, Uebernehmen := FALSE);<br/>FB_Uebergabe(Uebergeben := FALSE, Uebernehmen := FALSE);<br/><br/>FB_Drehen_pos(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/>FB_Drehen_dreh(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action><action name="Drehen_l"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Drehen_l">(*In diesem Zustand befindet sich der Motor in der Linksdrehung - Werkstück wird transportiert.<br/>Layer 3 greift auch Layer 2 "Transportieren" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/>FB_Drehen_dreh(Drehen_links := TRUE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action><action name="Drehen_r"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Drehen_r">(*In diesem Zustand befindet sich der Motor in der Linksdrehung - Werkstück wird transportiert.<br/>Layer 3 greift auch Layer 2 "Transportieren" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/>FB_Drehen_dreh(Drehen_links := FALSE, Drehen_rechts := TRUE);<br/></div></html></ST></body></action><action name="Drehung_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Drehung_aus">(*In diesem Zustand befindet sich der Motor im unbestromten Zustand - Also kein Transportieren/Übergeben/Übernehmen/Drehen.<br/>Layer 3 greift auch Layer 2 "Transportieren", "Übernahme_gabe" und "Drehen" zu und setzt die Eingangsvariablen dieser FBs entsprechend.*)<br/>FB_Uebernahme(Uebergeben := FALSE, Uebernehmen := FALSE);<br/>FB_Uebergabe(Uebergeben := FALSE, Uebernehmen := FALSE);<br/><br/>FB_Drehen_pos(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/>FB_Drehen_dreh(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action><action name="Uebergeben_l"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Uebergeben_l">(*In diesem Zustand befindet sich der Motor in der Linksdrehung - Werkstück wird übergeben.<br/>Layer 3 greift auch Layer 2 "Übernahme_gabe" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/><br/>(*nach links übergeben*)<br/>FB_Uebergabe(Richtung := FALSE, Uebernehmen := FALSE, Uebergeben := TRUE);<br/></div></html></ST></body></action><action name="Uebergeben_r"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Uebergeben_r">(*In diesem Zustand befindet sich der Motor in der Rechtsdrehung - Werkstück wird übergeben.<br/>Layer 3 greift auch Layer 2 "Übernahme_gabe" zu und setzt die Eingangsvariablen dieses FBs entsprechend.*)<br/><br/>(*nach rechts übergeben*)<br/>FB_Uebergabe(Richtung := TRUE, Uebernehmen := FALSE, Uebergeben := TRUE);<br/></div></html></ST></body></action><action name="Quittierung_links4"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Quittierung_links4">(*Statusvariable: Wird gesetzt, wenn bei Linksdrehung erfolgreich der Drehablauf erledigt wurde.<br/>Diese Signal ist nötig für übergeordnete Steuerungen.*)<br/>GDx_links := TRUE;<br/></div></html></ST></body></action><action name="Quittierung_rechts4"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Quittierung_rechts4">(*Statusvariable: Wird gesetzt, wenn bei Rechtsdrehung erfolgreich der Drehablauf erledigt wurde.<br/>Diese Signal ist nötig für übergeordnete Steuerungen.*)<br/>GDx_rechts := TRUE;<br/></div></html></ST></body></action><action name="Endschritt_Drehablauf"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Endschritt_Drehablauf">(*In diesem Zustand befindet sich der Motor im unbestromten Zustand - Also kein Transportieren/Übergeben/Übernehmen/Drehen.<br/>Layer 3 greift auch Layer 2 "Transportieren", "Übernahme_gabe" und "Drehen" zu und setzt die Eingangsvariablen dieser FBs entsprechend.*)<br/>FB_Uebernahme(Uebergeben := FALSE, Uebernehmen := FALSE);<br/>FB_Uebergabe(Uebergeben := FALSE, Uebernehmen := FALSE);<br/><br/>FB_Drehen_pos(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/>FB_Drehen_dreh(Drehen_links := FALSE, Drehen_rechts := FALSE);<br/></div></html></ST></body></action></actions><transitions><transition name="T_Positionieren_l_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Positionieren_l_ein">(*Auswertung der Startposition<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_pos();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Drehtisch_pos1 := FB_Drehen_pos.Endlage_1;<br/><br/>(*Wenn Werkstück an Position 0 anliegt und der Drehtisch sich in Endlage0 befindet oder<br/>wenn das Werkstück an Position 2 anliegt und der Drehtisch sich in Endlage0 befindet.*)<br/>IF Position1_WK = TRUE AND Position2_WK = TRUE AND Position3_WK = TRUE AND Drehtisch_pos1 = TRUE OR<br/>Position1_WK = FALSE AND Position2_WK = TRUE AND Position3_WK = FALSE AND Drehtisch_pos1 = TRUE<br/>	THEN T_Positionieren_l_ein := TRUE;<br/>	ELSE T_Positionieren_l_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Positionieren_r_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Positionieren_r_ein">(*Auswertung der Startposition<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_pos();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Drehtisch_pos0 := FB_Drehen_pos.Endlage_0;<br/><br/>(*Wenn Werkstück an Position 0 anliegt und der Drehtisch sich in Endlage0 befindet oder<br/>wenn das Werkstück an Position 2 anliegt und der Drehtisch sich in Endlage0 befindet.*)<br/>IF Position1_WK = TRUE AND Position2_WK = FALSE AND Position3_WK = FALSE AND Drehtisch_pos0 = TRUE OR<br/>Position1_WK = FALSE AND Position2_WK = FALSE AND Position3_WK = TRUE AND Drehtisch_pos0 = TRUE<br/>	THEN T_Positionieren_r_ein := TRUE;<br/>	ELSE T_Positionieren_r_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Positionieren_l_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Positionieren_l_aus">(*Statusvariablenabfrage Drehtisch positionieren zur Werkstückübernahme*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_pos();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_links1 := FB_Drehen_pos.GD_0;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übernommen und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_links1 = TRUE <br/>	THEN T_Positionieren_l_aus := TRUE;<br/>	ELSE T_Positionieren_l_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Positionieren_r_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Positionieren_r_aus">(*Statusvariablenabfrage Drehtisch positionieren zur Werkstückübernahme*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_pos();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_rechts1 := FB_Drehen_pos.GD_1;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übernommen und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_rechts1 = TRUE <br/>	THEN T_Positionieren_r_aus := TRUE;<br/>	ELSE T_Positionieren_r_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Uebernehmen_l_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Uebernehmen_l_ein">(*Übernehmen<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Wenn Werkstück an Position 2 oder 3 abliegt, dann Motor links drehen, damit Werkstück übernommen wird.*)<br/>IF Position1_WK = FALSE AND Position2_WK = TRUE AND Position3_WK = FALSE OR<br/>Position1_WK = FALSE AND Position2_WK = FALSE AND Position3_WK = TRUE<br/>	THEN T_Uebernehmen_l_ein := TRUE;<br/>	ELSE T_Uebernehmen_l_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Uebernehmen_r_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Uebernehmen_r_ein">(*Übernehmen<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Wenn Werkstück an Position 0 oder 1 abliegt, dann Motor rechts drehen, damit Werkstück übernommen wird.*)<br/>IF Position1_WK = TRUE AND Position2_WK = TRUE AND Position3_WK = TRUE OR<br/>Position1_WK = TRUE AND Position2_WK = FALSE AND Position3_WK = FALSE<br/>	THEN T_Uebernehmen_r_ein := TRUE;<br/>	ELSE T_Uebernehmen_r_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Uebernehmen_l_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Uebernehmen_l_aus">(*Statusvariablenabfrage. Werkstück übernommen*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Uebernahme();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_links2 := FB_Uebernahme.UeG_UeN_links;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übernommen und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_links2 = TRUE <br/>	THEN T_Uebernehmen_l_aus := TRUE;<br/>	ELSE T_Uebernehmen_l_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Uebernehmen_r_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Uebernehmen_r_aus">(*Statusvariablenabfrage. Werkstück übernommen*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Rechtsbewegung instanziiert.*)<br/>FB_Uebernahme();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_rechts" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_rechts2 := FB_Uebernahme.UeG_UeN_rechts;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übernommen und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_rechts2 = TRUE<br/>	THEN T_Uebernehmen_r_aus := TRUE;<br/>	ELSE T_Uebernehmen_r_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Drehung_l_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Drehung_l_ein">(*Auswertung der Zielposition<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_dreh();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Drehtisch_dreh1 := FB_Drehen_dreh.Endlage_1;<br/><br/>(*Wenn Werkstück nach 0 oder 2 transportiert werden soll und Endlage 1 ausgelöst ist, dann drehe Motor links*)<br/>IF Transportrichtung1 = TRUE AND Transportrichtung2 = TRUE AND Transportrichtung3 = TRUE AND Drehtisch_dreh1 = TRUE OR<br/>Transportrichtung1 = FALSE AND Transportrichtung2 = TRUE AND Transportrichtung3 = FALSE AND Drehtisch_dreh1 = TRUE<br/>	THEN T_Drehung_l_ein := TRUE;<br/>	ELSE T_Drehung_l_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Drehung_r_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Drehung_r_ein">(*Auswertung der Zielposition<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_dreh();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Drehtisch_dreh0 := FB_Drehen_dreh.Endlage_0;<br/><br/>(*Wenn Werkstück nach 1 oder 3 transportiert werden soll und Endlage 0 ausgelöst ist, dann drehe Motor links*)<br/>IF Transportrichtung1 = TRUE AND Transportrichtung2 = FALSE AND Transportrichtung3 = FALSE AND Drehtisch_dreh0 = TRUE OR<br/>Transportrichtung1 = FALSE AND Transportrichtung2 = FALSE AND Transportrichtung3 = TRUE AND Drehtisch_dreh0 = TRUE<br/>	THEN T_Drehung_r_ein := TRUE;<br/>	ELSE T_Drehung_r_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Drehung_l_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Drehung_l_aus">(*Statusvariablenabfrage Drehtisch positionieren zur Werkstückübernahme*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_dreh();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_links3 := FB_Drehen_dreh.GD_0;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übernommen und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_links3 = TRUE <br/>	THEN T_Drehung_l_aus := TRUE;<br/>	ELSE T_Drehung_l_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Drehung_r_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Drehung_r_aus">(*Statusvariablenabfrage Drehtisch positionieren zur Werkstückübernahme*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_dreh();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_rechts3 := FB_Drehen_dreh.GD_1;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übernommen und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_rechts3 = TRUE <br/>	THEN T_Drehung_r_aus := TRUE;<br/>	ELSE T_Drehung_r_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Uebergeben_l_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Uebergeben_l_ein">(*Wird vom Anwender oder vom darüberliegenden Layer die Entscheidung getroffen, dass das Transportband nach links befördern soll, <br/>dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Es wird nach links übergeben, wenn das Trabsportziel 0 oder 1 ist*)<br/>IF Transportrichtung1 = TRUE AND Transportrichtung2 = TRUE AND Transportrichtung3 = TRUE OR<br/>Transportrichtung1 = TRUE AND Transportrichtung2 = FALSE AND Transportrichtung3 = FALSE<br/>	THEN T_Uebergeben_l_ein := TRUE;<br/>	ELSE T_Uebergeben_l_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Uebergeben_r_ein"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Uebergeben_r_ein">(*Wird vom Anwender oder vom darüberliegenden Layer die Entscheidung getroffen, dass das Transportband nach links befördern soll, <br/>dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Es wird nach rechts übergeben, wenn das Trabsportziel 2 oder 3 ist*)<br/>IF Transportrichtung1 = FALSE AND Transportrichtung2 = TRUE AND Transportrichtung3 = FALSE OR<br/>Transportrichtung1 = FALSE AND Transportrichtung2 = FALSE AND Transportrichtung3 = TRUE<br/>	THEN T_Uebergeben_r_ein := TRUE;<br/>	ELSE T_Uebergeben_r_ein := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Drehablauf_l_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Drehablauf_l_aus">(*Statusvariablenabfrage. Uebergeben*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Uebergabe();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_links5 := FB_Uebergabe.UeG_UeN_links;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übergeben und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_links5 = TRUE<br/>	THEN T_Drehablauf_l_aus := TRUE;<br/>	ELSE T_Drehablauf_l_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_Drehablauf_r_aus"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_Drehablauf_r_aus">(*Statusvariablenabfrage. Uebergeben*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Rechtsbewegung instanziiert.*)<br/>FB_Uebergabe();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Quittierungssignal_rechts5 := FB_Uebergabe.UeG_UeN_rechts;<br/><br/>(*Wenn das Quittierungssignal TRUE ist, gilt das Werkstück als erfolgreich übergeben und die Transition wird gesetzt.*)<br/>IF Quittierungssignal_rechts5 = TRUE <br/>	THEN T_Drehablauf_r_aus := TRUE;<br/>	ELSE T_Drehablauf_r_aus := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_sofort_weiter7"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_sofort_weiter7">(*In dieser Transition steckt keine Bedingung. Die Transition wird sofort gesetzt und der Folgezustand wird eingenommen.*)<br/>T_sofort_weiter7 := TRUE;<br/></div></html></ST></body></transition><transition name="T_sofort_weiter8"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_sofort_weiter8">(*In dieser Transition steckt keine Bedingung. Die Transition wird sofort gesetzt und der Folgezustand wird eingenommen.*)<br/>T_sofort_weiter8 := TRUE;<br/></div></html></ST></body></transition><transition name="T_kein_Positionieren"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_kein_Positionieren">(*Wird vom Anwender oder vom darüberliegenden Layer die Entscheidung getroffen, dass das Transportband nach links befördern soll, <br/>dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Auswertung der Startposition<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_pos();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Drehtisch_pos0 := FB_Drehen_pos.Endlage_0;<br/>Drehtisch_pos1 := FB_Drehen_pos.Endlage_1;<br/><br/><br/>(*Wenn Werkstück an 0 oder 2 anliegt und Endlage 0 ausgelöst ist.*)<br/>(*Wenn Werkstück an 1 oder 3 anliegt und Endlage 1 ausgelöst ist.*)<br/>(*DANN ist kein Positionieren des Drehtisches nötig.*)<br/>IF (Position1_WK = TRUE AND Position2_WK = TRUE AND Position3_WK = TRUE AND Drehtisch_pos0 = TRUE OR<br/>Position1_WK = FALSE AND Position2_WK = TRUE AND Position3_WK = FALSE AND Drehtisch_pos0 = TRUE) OR<br/>(Position1_WK = TRUE AND Position2_WK = FALSE AND Position3_WK = FALSE AND Drehtisch_pos1 = TRUE OR<br/>Position1_WK = FALSE AND Position2_WK = FALSE AND Position3_WK = TRUE AND Drehtisch_pos1 = TRUE)<br/>	THEN T_kein_Positionieren := TRUE;<br/>	ELSE T_kein_Positionieren := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition><transition name="T_keine_Drehung"><body><ST><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="T_keine_Drehung">(*Wird vom Anwender oder vom darüberliegenden Layer die Entscheidung getroffen, dass das Transportband nach links befördern soll, <br/>dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Auswertung der Startposition<br/>...dann wird die Transition gesetzt und der Folgezustand wird eingenommen.*)<br/><br/>(*Der FB "Übernahme_gabe" aus Layer 2 wird jeweils für Linksbewegung instanziiert.*)<br/>FB_Drehen_dreh();<br/><br/>(*Der lokalen (Hilfs-)Variable "Quittierungssignal_links" wird der jeweilige Ausgangwert des FBs "Übernahme_gabe" zugewiesen.*)<br/>Drehtisch_dreh0 := FB_Drehen_dreh.Endlage_0;<br/>Drehtisch_dreh1 := FB_Drehen_dreh.Endlage_1;<br/><br/><br/>(*Wenn Werkstück nach 0 oder 2 trabsportiert werden soll und Endlage 0 ausgelöst ist.*)<br/>(*Wenn Werkstück nach 1 oder 3 transportiert werden soll und Endlage 1 ausgelöst ist.*)<br/>(*DANN ist kein Positionieren des Drehtisches nötig.*)<br/>IF (Transportrichtung1 = TRUE AND Transportrichtung2 = TRUE AND Transportrichtung3 = TRUE AND Drehtisch_dreh0 = TRUE OR<br/>Transportrichtung1 = FALSE AND Transportrichtung2 = TRUE AND Transportrichtung3 = FALSE AND Drehtisch_dreh0 = TRUE) OR<br/>(Transportrichtung1 = TRUE AND Transportrichtung2 = FALSE AND Transportrichtung3 = FALSE AND Drehtisch_dreh1 = TRUE OR<br/>Transportrichtung1 = FALSE AND Transportrichtung2 = FALSE AND Transportrichtung3 = TRUE AND Drehtisch_dreh1 = TRUE)<br/>	THEN T_keine_Drehung := TRUE;<br/>	ELSE T_keine_Drehung := FALSE;<br/>END_IF;<br/></div></html></ST></body></transition></transitions><body><SFC><actionBlock><position x="111" y="45"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="0" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Drehablauf_aus"/></action></actionBlock><actionBlock><position x="111" y="81"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="1" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Positionieren_aus"/></action></actionBlock><actionBlock><position x="74" y="63"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="2" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Positionieren_l"/></action></actionBlock><actionBlock><position x="111" y="63"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="3" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Positionieren_r"/></action></actionBlock><actionBlock><position x="111" y="120"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="4" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Uebernehmen_aus"/></action></actionBlock><actionBlock><position x="93" y="99"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="5" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Uebernehmen_l"/></action></actionBlock><actionBlock><position x="130" y="99"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="6" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Uebernehmen_r"/></action></actionBlock><actionBlock><position x="111" y="166"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="7" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Drehung_aus"/></action></actionBlock><actionBlock><position x="74" y="138"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="8" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Drehen_l"/></action></actionBlock><actionBlock><position x="111" y="138"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="9" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Drehen_r"/></action></actionBlock><actionBlock><position x="111" y="257"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="10" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Endschritt_Drehablauf"/></action></actionBlock><actionBlock><position x="93" y="205"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="11" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Uebergeben_l"/></action></actionBlock><actionBlock><position x="93" y="233"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="12" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Quittierung_links4"/></action></actionBlock><actionBlock><position x="133" y="205"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="13" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Uebergeben_r"/></action></actionBlock><actionBlock><position x="133" y="233"/><connectionPointIn><relPosition x="-2" y="2"/><connection refLocalId="14" formalParameter="x"/></connectionPointIn><action qualifier="N"><reference name="Quittierung_rechts4"/></action></actionBlock><step initialStep="true" localId="0" width="10" height="4" name="Motor_aus"><position x="97" y="45"/><connectionPointOut formalParameter="sfc"><relPosition x="5" y="4"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="1"/></connectionPointOutAction></step><step localId="1" width="10" height="4" name="Drehmotor_aus"><position x="97" y="81"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="39"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="2" width="10" height="4" name="Drehmotor_links_pos"><position x="60" y="63"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="15"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="3" width="10" height="4" name="Drehmotor_rechts_pos"><position x="97" y="63"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="16"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="4" width="10" height="4" name="Motor_aus2"><position x="97" y="120"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="40"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="5" width="10" height="4" name="Motor_links_UeN"><position x="79" y="99"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="19"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="6" width="10" height="4" name="Motor_rechts_UeN"><position x="116" y="99"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="20"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="7" width="10" height="4" name="Drehmotor_aus2"><position x="97" y="166"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="41"><position x="102" y="164"/><position x="102" y="154"/></connection></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="8" width="10" height="4" name="Drehmotor_links_dreh"><position x="60" y="138"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="23"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="9" width="10" height="4" name="Drehmotor_rechts_dreh"><position x="97" y="138"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="24"/></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="10" width="10" height="4" name="Endschritt_3"><position x="97" y="257"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="42"/></connectionPointIn><connectionPointOutAction formalParameter="x"><relPosition x="12" y="1"/></connectionPointOutAction></step><step localId="11" width="10" height="4" name="Motor_links_UeG"><position x="79" y="205"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="27"><position x="84" y="203"/><position x="84" y="198"/></connection></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="12" width="10" height="4" name="Quittierung_l"><position x="79" y="233"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="29"><position x="84" y="231"/><position x="84" y="226"/></connection></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="13" width="10" height="4" name="Motor_rechts_UeG"><position x="119" y="205"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="28"><position x="124" y="203"/><position x="124" y="198"/></connection></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><step localId="14" width="10" height="4" name="Quittierung_r"><position x="119" y="233"/><connectionPointIn><relPosition x="5" y="-2"/><connection refLocalId="31"><position x="124" y="231"/><position x="124" y="226"/></connection></connectionPointIn><connectionPointOut formalParameter="sfc"><relPosition x="5" y="6"/></connectionPointOut><connectionPointOutAction formalParameter="x"><relPosition x="12" y="2"/></connectionPointOutAction></step><transition localId="15" width="26" height="6"><position x="63" y="55"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="35"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Positionieren_l_ein"/></condition></transition><transition localId="16" width="26" height="6"><position x="100" y="55"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="35"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Positionieren_r_ein"/></condition></transition><transition localId="17" width="26" height="6"><position x="63" y="69"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="2"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Positionieren_l_aus"/></condition></transition><transition localId="18" width="27" height="6"><position x="100" y="69"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="3"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Positionieren_r_aus"/></condition></transition><transition localId="19" width="27" height="6"><position x="82" y="91"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="36"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Uebernehmen_l_ein"/></condition></transition><transition localId="20" width="28" height="6"><position x="119" y="91"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="36"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Uebernehmen_r_ein"/></condition></transition><transition localId="21" width="28" height="6"><position x="82" y="105"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="5"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Uebernehmen_l_aus"/></condition></transition><transition localId="22" width="28" height="6"><position x="119" y="105"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="6"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Uebernehmen_r_aus"/></condition></transition><transition localId="23" width="22" height="6"><position x="63" y="130"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="37"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Drehung_l_ein"/></condition></transition><transition localId="24" width="23" height="6"><position x="100" y="130"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="37"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Drehung_r_ein"/></condition></transition><transition localId="25" width="23" height="6"><position x="63" y="144"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="8"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Drehung_l_aus"/></condition></transition><transition localId="26" width="23" height="6"><position x="100" y="144"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="9"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Drehung_r_aus"/></condition></transition><transition localId="27" width="26" height="6"><position x="82" y="192"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="38"><position x="84" y="192"/><position x="84" y="187"/></connection></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Uebergeben_l_ein"/></condition></transition><transition localId="28" width="26" height="6"><position x="122" y="192"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="38"><position x="124" y="192"/><position x="124" y="187"/></connection></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Uebergeben_r_ein"/></condition></transition><transition localId="29" width="24" height="6"><position x="82" y="220"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="11"><position x="84" y="220"/><position x="84" y="211"/></connection></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Drehablauf_l_aus"/></condition></transition><transition localId="30" width="23" height="6"><position x="82" y="245"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="12"><position x="84" y="245"/><position x="84" y="239"/></connection></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_sofort_weiter7"/></condition></transition><transition localId="31" width="25" height="6"><position x="122" y="220"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="13"><position x="124" y="220"/><position x="124" y="211"/></connection></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_Drehablauf_r_aus"/></condition></transition><transition localId="32" width="23" height="6"><position x="122" y="245"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="14"><position x="124" y="245"/><position x="124" y="239"/></connection></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_sofort_weiter8"/></condition></transition><transition localId="33" width="25" height="6"><position x="144" y="55"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="35"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_kein_Positionieren"/></condition></transition><transition localId="34" width="23" height="6"><position x="142" y="130"/><connectionPointIn><relPosition x="2" y="0"/><connection refLocalId="37"/></connectionPointIn><connectionPointOut><relPosition x="2" y="6"/></connectionPointOut><condition><reference name="T_keine_Drehung"/></condition></transition><selectionDivergence localId="35" width="81" height="0"><position x="65" y="53"/><connectionPointIn><relPosition x="37" y="0"/><connection refLocalId="0"/></connectionPointIn><connectionPointOut formalParameter="0"><relPosition x="0" y="0"/></connectionPointOut><connectionPointOut formalParameter="37"><relPosition x="37" y="0"/></connectionPointOut><connectionPointOut formalParameter="81"><relPosition x="81" y="0"/></connectionPointOut></selectionDivergence><selectionDivergence localId="36" width="37" height="0"><position x="84" y="89"/><connectionPointIn><relPosition x="18" y="0"/><connection refLocalId="1"/></connectionPointIn><connectionPointOut formalParameter="0"><relPosition x="0" y="0"/></connectionPointOut><connectionPointOut formalParameter="37"><relPosition x="37" y="0"/></connectionPointOut></selectionDivergence><selectionDivergence localId="37" width="79" height="0"><position x="65" y="128"/><connectionPointIn><relPosition x="37" y="0"/><connection refLocalId="4"/></connectionPointIn><connectionPointOut formalParameter="0"><relPosition x="0" y="0"/></connectionPointOut><connectionPointOut formalParameter="37"><relPosition x="37" y="0"/></connectionPointOut><connectionPointOut formalParameter="79"><relPosition x="79" y="0"/></connectionPointOut></selectionDivergence><selectionDivergence localId="38" width="40" height="0"><position x="84" y="185"/><connectionPointIn><relPosition x="18" y="0"/><connection refLocalId="7"><position x="102" y="183"/><position x="102" y="172"/></connection></connectionPointIn><connectionPointOut formalParameter="0"><relPosition x="0" y="0"/></connectionPointOut><connectionPointOut formalParameter="40"><relPosition x="40" y="0"/></connectionPointOut></selectionDivergence><selectionConvergence localId="39" width="81" height="0"><position x="65" y="77"/><connectionPointIn><relPosition x="0" y="0"/><connection refLocalId="17"/></connectionPointIn><connectionPointIn><relPosition x="37" y="0"/><connection refLocalId="18"/></connectionPointIn><connectionPointIn><relPosition x="81" y="0"/><connection refLocalId="33"><position x="146" y="75"/><position x="146" y="61"/></connection></connectionPointIn><connectionPointOut><relPosition x="37" y="0"/></connectionPointOut></selectionConvergence><selectionConvergence localId="40" width="37" height="0"><position x="84" y="116"/><connectionPointIn><relPosition x="0" y="0"/><connection refLocalId="21"><position x="84" y="114"/><position x="84" y="111"/></connection></connectionPointIn><connectionPointIn><relPosition x="37" y="0"/><connection refLocalId="22"><position x="121" y="114"/><position x="121" y="111"/></connection></connectionPointIn><connectionPointOut><relPosition x="18" y="0"/></connectionPointOut></selectionConvergence><selectionConvergence localId="41" width="79" height="0"><position x="65" y="152"/><connectionPointIn><relPosition x="0" y="0"/><connection refLocalId="25"/></connectionPointIn><connectionPointIn><relPosition x="37" y="0"/><connection refLocalId="26"/></connectionPointIn><connectionPointIn><relPosition x="79" y="0"/><connection refLocalId="34"><position x="144" y="150"/><position x="144" y="136"/></connection></connectionPointIn><connectionPointOut><relPosition x="37" y="0"/></connectionPointOut></selectionConvergence><selectionConvergence localId="42" width="40" height="0"><position x="84" y="253"/><connectionPointIn><relPosition x="0" y="0"/><connection refLocalId="30"/></connectionPointIn><connectionPointIn><relPosition x="40" y="0"/><connection refLocalId="32"/></connectionPointIn><connectionPointOut><relPosition x="18" y="0"/></connectionPointOut></selectionConvergence></SFC></body><documentation><html xmlns="http://www.w3.org/1999/xhtml"><div xmlns="http://www.w3.org/1999/xhtml" xml:space="preserve" id="MWTDESCRIPTION" wsName="Transport_zu_x_drehT">Layer 3: Ablaufebene (Version 2: 1 Sensor mittig)<br/> --&gt; Greift auf Layer 2 zu.<br/><br/>Der FB spiegelt die Funktion "Transport nach x, dreh" eines Werkstücks wider.<br/>Der Unterschied zum FB "Drehen" aus Layer 2 besteht darin, dass der Drehablauf neben dem<br/>reinen Drehen des Drehtisches auch die Übernahme/Übergabe und das Transportieren des Werkstücks umfasst.<br/><br/>Die Ansteuerung der fünf Werkstückpositionszustände (0, 1, 2, 3 und aus) <br/>wird durch drei Positionsvariablen (Position1/2/3_WK) realisiert.<br/>Die Ansteuerung der fünf Transportzielzustände (0, 1, 2, 3 und aus) <br/>wird durch drei Positionsvariablen (Transportrichtung1/2/3) realisiert.<br/>Dabei sind die Positionen folgendermaßen verteilt:<br/>Wenn der Drehtisch ist in der Ausgangsposition befindet (waagerecht), dann ist:<br/>	- 0 befindet sich links<br/>	- 1 befindet sich oben<br/>	- 2 befindet sich rechts<br/>	- 3 befindet sich unten<br/><br/>Im Anfangsschritt findet kein Drehablauuf statt - kein Drehen/Transportieren/Übergeben/Übernehmen (Motoren aus).<br/>Je nach Setzen der Inputvariablen (alternative Verzweigung) wird der Drehtisch nach links oder rechts gedreht, um das<br/>Werkstück an der richtigen Position übernehmen zu können (hierzu wird die Position1/2/3_WK ausgewertet) <br/>- die Transition "T_xxx_ein" schaltet. Es ist aber auch möglich, dass kein Positionieren des Tisches nötig ist, wenn er <br/>bereits in der korrekten Position steht.<br/>Damit wird ein Zustand eingenommen, der erstmal alle Motoren stoppt (Wichtig ist, dass der Drehmotor gestoppt wird.).<br/>Nach Auswertung der Bedingungen wird anschließend der Zustand eingenommen, in dem ein Werkstück von der entsprechenden <br/>Seite übernommen wird. Liefert FB "Übernahme_gabe" das Quittierungssignal, dass erfolgreich übernommen wurde, schaltet <br/>die Transition.<br/>Damit wird ein Zustand eingenommen, der erstmal alle Motoren stoppt (Wichtig ist, dass der Transportbandmotor gestoppt <br/>wird.).<br/>Nach Auswertung der Bedingungen bzgl. der Zielposition, wohin das Werkstück transportiert werden soll, wird der Zustand <br/>eingenommen, in dem der Drehtisch in die korrekte Position gedreht wird (falls nötig), um das Werkstück korrekt zu <br/>übergeben. Liefert FB "Drehen" das Quittierungssignal, dass erfolgreich gedreht wurde, schaltet die Transition.<br/>Damit wird ein Zustand eingenommen, der erstmal alle Motoren stoppt (Wichtig ist, dass der Drehmotor gestoppt <br/>wird.).<br/>Nach Auswertung der Bedingungen, ob das Werkstück überhaupt über den Drehtisch transportiert werden muss, wird der Zustand <br/>eingenommen, in dem der Drehtisch das Werkstück transportiert. <br/>Ein Transportieren ist z.B. nicht nötig, wenn ein Werkstück "über Eck" transpportiert werden soll. Dabei wird das<br/>Werkstück an einem Ende des Drehtisches übernommen, der Drehtisch dreht sich um -90° und das Werkstück wird am selbem<br/>Ende wird übergeben. <br/>Liefert FB "Transportieren" das Quittierungssignal, dass erfolgreich transportiert wurde (falls nötig), schaltet die <br/>Transition. Damit wird ein Zustand eingenommen, der erstmal alle Motoren stoppt (Wichtig ist, dass der Transportbandmotor<br/>gestoppt wird.).<br/>Nach Auswertung der Bedingungen, an welcher Seite das Werkstück übergeben werden muss, wird der Zustand eingenommen, <br/>in dem der Drehtisch das Werkstück übergibt.<br/>Wurde erfolgreich übergeben, so ist der Drehablauf abgeschlossen. Dabei wird auch<br/>eine Statusvariable gesetzt (GDx_xxx), die den erfolgreichen Drehablauf quittiert, sodass die übergeordnete Steuerung <br/>weiß, wann der Transportvorgang des Drehtisches abgeschlossen ist.<br/><br/>FB-Schnittstellen:<br/>---------------<br/>Eingangsvariablen:<br/> - Transportrichtung1<br/> - Transportrichtung2<br/> - Transportrichtung3<br/> - Position1_WK<br/> - Position2_WK<br/> - Position3_WK<br/><br/>Ausgangsvariablen:<br/> - GDx_links<br/> - GDx_rechts<br/><br/><br/>Auftretende Warnungen "Instanz 'FB_xxx' mehrfach verwendet!": <br/>Hier ein Textauszug aus der Multiprog-Hilfe:<br/>"Die Warnung kann auch in einem Code-Arbeitsblatt in AS auftreten, wenn Sie dieselbe <br/>Instanz in verschiedenen Aktionen verwendet haben. Wenn nur eine Instanz zu einem <br/>Zeitpunkt ausgeführt wird, ist die Warnung für Sie ohne Bedeutung."<br/></div></html></documentation></pou></pous></types><instances><configurations/></instances></project>
